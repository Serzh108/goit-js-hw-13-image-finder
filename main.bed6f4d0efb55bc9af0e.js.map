{"version":3,"sources":["webpack:///./templates/item.hbs","webpack:///./js/apiService.js","webpack:///./index.js","webpack:///./js/myModules.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","getQuery","search","page","fetch","baseUrl","then","response","json","catch","err","console","log","oldSearchValue","searchForm","document","querySelector","addEventListener","e","preventDefault","transformData","input","value","query","galleryList","searchValue","pageNumber","innerHTML","hits","forEach","element","el","resultItem","itemTemplate","insertAdjacentHTML","window","scrollTo","top","body","scrollHeight","behavior","noticeLoaded","PNotify","notice","title","text","modules","Buttons","closer","sticker","on","close","target","nodeName","bigImageSrc","dataset","src","basicLightbox","show"],"mappings":"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","file":"main.bed6f4d0efb55bc9af0e.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"galleryItem\\\">\\r\\n      <div class=\\\"photo-card\\\">\\r\\n      <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":16},\"end\":{\"line\":3,\"column\":32}}}) : helper)))\n    + \"\\\" data-src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":44},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" />\\r\\n    \\r\\n      <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":10},\"end\":{\"line\":8,\"column\":19}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">visibility</i>\\r\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":10},\"end\":{\"line\":12,\"column\":19}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">comment</i>\\r\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":10},\"end\":{\"line\":16,\"column\":22}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":10},\"end\":{\"line\":20,\"column\":23}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n      </div>\\r\\n    </div>    \\r\\n</li>\";\n},\"useData\":true});","// export default объект отвечающий за логику HTTP-запросов к API\r\nconst key = '16012564-983777c468f78516fc9320c6b';\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst per_page = 12;\r\n\r\nfunction getQuery(search, page) {\r\n  return fetch(\r\n    `${baseUrl}?image_type=photo&orientation=horizontal&q=${search}&page=${page}&per_page=${per_page}&key=${key}`,\r\n  )\r\n    .then(response => response.json())\r\n    .catch(err => console.log('Error: ', err));\r\n}\r\n\r\nexport default getQuery;\r\n","import './styles.css';\nimport 'pnotify/dist/PNotifyBrightTheme.css';\nimport getQuery from './js/apiService';\nimport Handlebars from 'handlebars';\nimport itemTemplate from './templates/item.hbs';\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport { imgClickHandler, scrollDown } from './js/myModules';\n\nlet page = 1;\nlet oldSearchValue;\n\nconst searchForm = document.querySelector('#search-form');\nsearchForm.addEventListener('submit', formHandler);\nconst input = searchForm.query;\nconst galleryList = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.btn');\nloadMoreBtn.addEventListener('click', btnHandler);\ngalleryList.addEventListener('click', imgClickHandler); // modal\n\nfunction formHandler(e) {\n  e.preventDefault();\n  transformData(input.value, page);\n}\n\nfunction transformData(searchValue, pageNumber) {\n  if (oldSearchValue !== searchValue) {\n    pageNumber = 1;\n    galleryList.innerHTML = '';\n  }\n  oldSearchValue = searchValue;\n  getQuery(oldSearchValue, pageNumber)\n    .then(data => {\n      data.hits.forEach(element => {\n        markup(element);\n      });\n      return data;\n    })\n    .then(data => scrollDown())\n    .catch(err => console.log('Error: ', err));\n}\n\nfunction markup(el) {\n  const resultItem = itemTemplate(el);\n  galleryList.insertAdjacentHTML('beforeend', resultItem);\n}\n\nfunction btnHandler() {\n  page++;\n  transformData(input.value, page);\n\n  let noticeLoaded = PNotify.notice({\n    title: 'New page loaded!',\n    text: '',\n    modules: {\n      Buttons: {\n        closer: false,\n        sticker: false,\n      },\n    },\n  });\n  noticeLoaded.on('click', function () {\n    noticeLoaded.close();\n  });\n}\n","import * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\n\r\nfunction imgClickHandler(e) {\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return;\r\n  } else {\r\n    const bigImageSrc = e.target.dataset.src;\r\n    basicLightbox\r\n      .create(`<img width=\"1400\" height=\"900\" src=\"${bigImageSrc}\">`)\r\n      .show();\r\n  }\r\n}\r\n\r\nfunction scrollDown() {\r\n  window.scrollTo({\r\n    top: document.body.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nexport { imgClickHandler, scrollDown };\r\n"],"sourceRoot":""}